{% extends 'base.html' %}

{% block title %}首页{% endblock %}

{% block main%}
<h2>博客列表</h2>
<div class="row row-cols-3 ">
  {% for blog in blogs %}
  <div class="col">
    <div class="card border-success mb-3 p-3 ms-2" style="max-width: 25rem;">
      <div class="card-header bg-transparent border-success" style="font-weight: bold;">{{ blog.title }}</div>
      <div class="card-body text-dark" >
        <p class="card-text">{{ blog.content | striptags | truncatechars:100 }}
        </p>
        <a href="{% url 'Blog:blog_detail' blog_id=blog.id %}" class="btn btn-success">详情</a>
      </div>
      <div class="card-footer bg-transparent border-success d-flex justify-content-between">
        <div>
          <img src="{% static 'images/4.jpeg' %}" class="rounded-circle" width="40" height="40" alt="头像加载错误">
          {{ blog.author.username }}
        </div>
        <div><p style="color: #999;"> {{ blog.pub_time | date:"Y年m月d日 H时i分" }}</p></div>
      </div>
    </div>
  </div>
  {% endfor %}
</div>
{% endblock %}